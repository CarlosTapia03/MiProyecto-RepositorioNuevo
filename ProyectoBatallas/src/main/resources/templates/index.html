<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
				xmlns:layout="http://www.ultraq.net.nz/thymelaf/layout"
				layout:decorate="~{master.html}">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Votaciones de batallas</title>
</head>

<body>

	<div layout:fragment="content">
		<h1 class="mt-4 mb-4 red-bull-red">Votaciones de batallas</h1>

		<h2 class="mb-4 red-bull-blue">Batallas de Red Bull</h2>

		<p>Las batallas de Red Bull, también conocidas como Red Bull Batalla de los Gallos, son competencias de
			freestyle rap en español, organizadas por la marca de bebidas energéticas Red Bull. Estas competencias
			comenzaron en 2005 y se han convertido en uno de los eventos más importantes y populares en la escena del
			hip-hop en habla hispana.</p>

		<p>Los participantes compiten en duelos individuales, improvisando versos y rimas en función de palabras o temas
			propuestos por el presentador o el jurado. Las batallas se llevan a cabo en varias rondas, donde los
			competidores deben demostrar sus habilidades líricas, fluidez, capacidad de improvisación y creatividad.</p>

		<h3 class="mb-3 red-bull-red">Participantes destacados</h3>

		<ul>
			<li>Arkano</li>
			<li>Aczino</li>
			<li>Chuty</li>
			<li>Wos</li>
			<li>Skone</li>
			<li>Dtoke</li>
		</ul>

		<h3 class="mb-3 red-bull-red">Eventos relevantes</h3>

		<ul>
			<li>Red Bull Batalla de los Gallos Final Internacional 2020</li>
			<li>Red Bull Batalla de los Gallos Final Nacional España 2019</li>
			<li>Red Bull Batalla de los Gallos Final Nacional Argentina 2018</li>
		</ul>

		<br>

		<h2>Batallas</h2>

		<div class="text-end">
			<a href="/admin/batallas/nuevo" class="btn btn-primary mb-3">
				Agregar batalla
			</a>
		</div>
		<table class="table table-hover">
			<thead>
				<tr>
					<th></th>
					<th>Batalla</th>
					<th>Fecha batalla</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="batalla : ${batallas}" th:object="${batalla}">
					<td style="width:150px;">
						<a th:href="@{/assets/{filename}(filename=*{rutaPortada})}" data-fancybox>
							<img th:src="@{/assets/{filename}(filename=*{rutaPortada})}" alt="" class="img-thumbnail w-100"/>
						</a>
					</td>
					<td>
						<div th:text="*{nombre}" class="fs-5 fw-bold"></div>
						<p th:text="*{descripcion}"></p>
						<div>
							<span class="badge rounded-pill bg-light text-dark me-1" th:each="ronda: *{rondas}"
							 th:text="${ronda.titulo}"></span>
						</div>
					</td>
					<td th:text="*{#temporals.format(fechaBatalla, 'dd/MM/yyyy')}"></td>
					<td class="text-end">
						<a th:href="@{/admin/batallas/{id}/editar(id=*{id})}">Editar</a>
						<a href="javascript:void(0)" class="text-danger ms-3" th:onclick="'eliminarBatalla(' +{id} +')'">Eliminar</a>
						<form th:id="'eliminarBatallaForm' + *{id}" th:action="@{/admin/batallas/{id}/eliminar(id =*{id})}" method="post" class="d-none">
						</form>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<div layout:fragment="scripts">
		<script>
			function eliminarBatalla(id){
				if(!confirm('¿Estás seguro de eliminar esta batalla?')) {
					return;
				}
				$('#eliminarBatallaForm' + id).submit();
			}
		</script>
	</div>
	
</body>

</html>